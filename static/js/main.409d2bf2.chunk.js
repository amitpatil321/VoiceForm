(this.webpackJsonpvoiceform1=this.webpackJsonpvoiceform1||[]).push([[0],{182:function(e,t,a){e.exports=a(377)},187:function(e,t,a){},374:function(e,t,a){},377:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(4),c=a.n(o),i=(a(187),a(59)),l=a(122),s=a(40),u=a(158),m=a(159),d=a(176),f=a(160),p=a(178),h=a(175),g=a(378),b=a(379),E=a(380),y=a(385),v=a(169),S=a(5),k=a(67),_=a(48),w=a(382),C=a(383),j=a(26),D=function(e){var t=e.fields,a=e.formData,n=e.refs,o=e._handleChange,c=e._setActiveInput,i=e._handleSubmit;return r.a.createElement(w.a,null,t.map((function(e,t){return r.a.createElement(w.a.Item,{key:e.name},r.a.createElement(C.a,{placeholder:e.placeholder,name:e.name,ref:n[t],onChange:o,onFocus:function(){return c(e.name)},onBlur:function(){return c(null)},value:a[e.name],autoComplete:"off"}))})),r.a.createElement(w.a.Item,{className:"center"},r.a.createElement(j.a,{type:"primary",onClick:i},"Submit")))};D.defaultProps={fields:[],formData:[],refs:[],_handleChange:function(){},_setActiveInput:function(){},_handleSubmit:function(){}};var M=D,I=a(381),O=function(){var e=[];[{key:["toggle debug"],desc:"Turns on/off debug mode"},{key:["clear","clear input","clear field","start again"],desc:"Clears currently active input"},{key:["reset","reset form","clear form"],desc:"Resets the form by clearing all the inputs"},{key:["go","submit","submit form"],desc:"Submits the form"},{key:["stop recording","stop listening"],desc:"Stops audio recording"},{key:["space"],desc:"Adds space at the end of active input"},{key:["undo"],desc:"Removed recently added string from currently active input"}].forEach((function(t,a){e.push({key:a,command:t.key.map((function(e){return r.a.createElement("li",{key:Math.random()},"- ",e)})),Description:t.desc})}));return r.a.createElement("div",{className:"help",style:{width:"90%"}},r.a.createElement("h2",null,"How it works ?"),"- To start audio input click on"," ",r.a.createElement(k.a,{className:"recordingIcon on",style:{fontSize:"12px"}})," ","icon.",r.a.createElement("br",null),"- Inputs can be triggered/activated with the help of commands mentioned in triggers property in"," ",r.a.createElement("i",null,r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/amitpatil321/VoiceForm/blob/master/src/form.json"},"form.json"))," ","file",r.a.createElement("br",null),"- Apart from input triggers there are few custom commands which are as below",r.a.createElement("br",null),r.a.createElement("h3",null,"Custom commands"),r.a.createElement(I.a,{dataSource:e,columns:[{title:"command",dataIndex:"command",key:"command",width:"35%"},{title:"Description",dataIndex:"Description",key:"Description"}],size:"small",pagination:!1}))},R=a(384),N=function(e){var t=e.showModal,a=e.formData,n=e.fields,o=e._hideModal;return r.a.createElement(R.a,{title:"User Details",visible:t,onOk:o,onCancel:o,footer:[r.a.createElement(j.a,{key:"back",onClick:o},"Close")]},r.a.createElement("table",null,r.a.createElement("tbody",null,a&&t&&n.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{width:"50%"},e.placeholder),r.a.createElement("td",null,": ".concat(a[e.name])))})))))};N.defaultProps={showModal:!1,formData:[],fields:[],_hideModal:function(){}};var H=N,A=(a(374),a(375),new(window.SpeechRecognition||window.webkitSpeechRecognition));A.continous=!0,A.interimResults=!0,A.lang="en-US";var F=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={recordedString:null,activeInput:null,isRecording:!1,loading:!1,forceStopped:!1,formData:{},inputHistory:[],refs:[],showModal:!1,debugMode:!1,error:null},a._proccessCommand=function(e){var t=a.state,n=t.activeInput,r=t.formData,o=t.inputHistory,c=t.refs;switch(e){case"toggle debug":a._onDebugModeChange();break;case"space":n&&(r[n]="".concat(r[n]," "),a.setState((function(e){return Object(s.a)({},r,{inputHistory:Object(s.a)({},e.inputHistory,Object(i.a)({},n,[].concat(Object(l.a)(e.inputHistory[n]),[" "])))})})));break;case"clear":case"clear input":case"clear field":case"start again":n&&(r[n]="",a.setState(Object(s.a)({},r)));break;case"reset":case"reset form":case"clear form":var u={};_.a.forEach((function(e){u[e.name]=""})),a.setState({formData:u});break;case"undo":if(n){var m=r[n];m&&(m=m.replace("".concat(o[n][o[n].length-1]," "),""),r[n]=m,a.setState(Object(s.a)({},r)),o[n].pop())}break;case"go":case"submit":case"submit form":a._handleSubmit();break;case"stop recording":case"stop listening":a._stopRecording();break;default:var d=_.a.find((function(t){return t.triggers.includes(e)}));if(d)a._findRefInput(c,d.name).current.focus(),a.setState({activeInput:d.name});else if(n){var f=r[n];r[n]="".concat((f||"")+e," "),a.setState((function(t){return Object(s.a)({},r,{inputHistory:Object(s.a)({},t.inputHistory,Object(i.a)({},n,[].concat(Object(l.a)(t.inputHistory[n]),[e])))})}))}}},a._findRefInput=function(e,t){return e.find((function(e){return e.current.props.name===t}))},a._startRecording=function(){A.start(),A.onstart=function(){return a.setState({isRecording:!0,forceStopped:!1})},A.onresult=function(e){if(e.results[0].isFinal){var t=e.results[0][0].transcript;t.length&&(a.setState({recordedString:t,loading:!0}),a._proccessCommand(t))}else a.setState({recordedString:null,loading:!0})},A.onend=function(){a.state.forceStopped||A.start(),a.setState({isRecording:!1,loading:!1})},A.onerror=function(e){"not-allowed"===e.error?a.setState({error:"Please allow Microphone access"}):a.setState({error:"Unable to start microphone"})}},a._stopRecording=function(){a.setState({activeInput:null,isRecording:!1,forceStopped:!0,loading:!0},(function(){return A.stop()}))},a._handleSubmit=function(e){return a.setState({showModal:!0})},a._handleChange=function(e){var t=a.state.formData;a.setState({formData:Object(s.a)({},t,Object(i.a)({},e.target.name,e.target.value))})},a._onDebugModeChange=function(){var e=a.state.debugMode;a.setState({debugMode:!e})},a._setActiveInput=function(e){return a.setState({activeInput:e})},a._hideModal=function(){return a.setState({showModal:!1})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e={},t={};_.a.forEach((function(a){e[a.name]="",t[a.name]=""}));var a=_.a.map((function(e){return r.a.createRef()}));this.setState({formData:e,inputHistory:t,refs:a})}},{key:"render",value:function(){var e=this,t=this.state,a=t.isRecording,n=t.refs,o=t.loading,c=t.formData,i=t.showModal,l=t.debugMode,s=t.recordedString,u=t.error;return r.a.createElement(g.a,null,r.a.createElement(b.a,{span:24},r.a.createElement(g.a,null,r.a.createElement(b.a,{span:8}),r.a.createElement(b.a,{span:8,className:"content"},r.a.createElement("div",{className:"align-right"},"Debug Mode"," ",r.a.createElement(E.a,{checked:!!l,checkedChildren:"on",unCheckedChildren:"off",onChange:this._onDebugModeChange})),r.a.createElement("h2",null,"Registration Form"),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{type:"error",message:u,showIcon:!0}),r.a.createElement("br",null)),r.a.createElement(g.a,null,r.a.createElement(b.a,{span:24},r.a.createElement(g.a,null,r.a.createElement(b.a,{span:2},a?r.a.createElement(k.b,{className:"recordingIcon off",onClick:function(){return e._stopRecording()}}):r.a.createElement(k.a,{className:"recordingIcon on",onClick:function(){return e._startRecording()}})),r.a.createElement(b.a,{span:8}),r.a.createElement(b.a,{span:14,className:"align-right"},o&&r.a.createElement(v.a,{indicator:r.a.createElement(S.a,{type:"loading",style:{fontSize:18},spin:!0})}),l&&s&&r.a.createElement("span",{className:"debug"},s))))),r.a.createElement(M,{fields:_.a,formData:c,refs:n,_handleChange:this._handleChange,_setActiveInput:this._setActiveInput,_handleSubmit:this._handleSubmit})),r.a.createElement(b.a,{span:8},r.a.createElement(O,null)))),r.a.createElement(H,{showModal:i,formData:c,fields:_.a,_hideModal:this._hideModal}))}}]),t}(n.Component),x=Object(h.hot)(F);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},48:function(e){e.exports=JSON.parse('{"a":[{"name":"first_name","placeholder":"First Name","type":"input","triggers":["first name"]},{"name":"last_name","placeholder":"Last Name","type":"input","triggers":["last name","surname"]},{"name":"email","placeholder":"Email","type":"input","triggers":["email"]},{"name":"company","placeholder":"Company Name","type":"input","triggers":["company","employer","organisation"]},{"name":"job_title","placeholder":"Job Title","type":"input","triggers":["job","job title"]}]}')}},[[182,1,2]]]);
//# sourceMappingURL=main.409d2bf2.chunk.js.map